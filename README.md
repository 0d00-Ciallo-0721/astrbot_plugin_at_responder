
# 新增关键词黑名单配置

# AstrBot @回复插件
针对特定用户的@回复功能，支持全局@、特定群@、全群@和黑名单设置
只支持QQ平台
## 功能特点

- **全局@功能**: 对指定用户在任何群聊中都自动添加@
- **特定群@功能**: 仅在特定群聊中对特定用户自动添加@
- **全群@功能**: 在指定群聊中对所有用户自动添加@
- **黑名单功能**: 对黑名单内用户不进行@回复
- **多重判断逻辑**: 独立的判断机制确保@回复行为符合预期

## 配置说明
### 全局@列表 (global_at_list)
- 类型：列表
- 描述：在所有群聊中都@的用户ID列表
- 格式：每行一个QQ号
- 默认值：空列表

### 特定群@配置 (specific_at_json)
- 类型：JSON字符串
- 描述：为不同群设置不同的@用户列表
- 格式：`{"群ID1":["用户ID1","用户ID2"], "群ID2":["用户ID3"]}`
- 默认值：`{}`

### 全群@列表 (all_at_groups)
- 类型：列表
- 描述：在这些群聊中@所有用户
- 格式：每行一个群ID
- 默认值：空列表

### 黑名单配置 (blacklist_json)
- 类型：JSON字符串
- 描述：设置全局和群特定的黑名单
- 格式：`{"全局":["用户ID1","用户ID2"], "群ID1":["用户ID3"]}`
- 默认值：`{"全局":[]}`

### 查看状态
- 命令：`/at_status`
- 权限：所有用户
- 功能：查看当前用户的@状态
- 返回信息：
  - 黑名单状态
  - 是否会被@
  - 被@的原因（全局@/全群@/特定群@）

## 工作流程
1. 接收消息后先判断发送者是否在黑名单中
2. 如不在黑名单，按以下三个独立逻辑判断是否需要@:
   - 检查当前群是否在全群@列表中
   - 检查用户是否在全局@列表中
   - 检查用户是否在特定群@列表中
3. 只要符合任一条件即添加@回复，三条都不符合则不添加@

## 注意事项
黑名单优先级最高
全群@优先级高于特定群@
特定群@优先级高于全局@

## 问题反馈
如有问题，请在GitHub上提交Issue：
https://github.com/0d00-Ciallo-0721/astrbot_plugin_at_responder/issues
